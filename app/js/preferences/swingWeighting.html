<!-- First step -->
<div ng-if="state.step === 1">
  <div class="grid-x" style="min-height: 450px">
    <div class="cell">
      <h3>{{state.title}}
        <inline-help help-key="swing-weighting"></inline-help>
      </h3>
    </div>
    <div class="cell">
      <table>
        <thead>
          <th>Criterion
            <inline-help help-key="criterion"></inline-help>
          </th>
          <th>Description</th>
          <th>Unit
            <inline-help help-key="criterion-unit"></inline-help>
          </th>
          <th>Worst</th>
          <th>Best</th>
        </thead>
        <tbody>
          <tr ng-repeat="criterion in criteria">
            <td>{{criterion.title}}</td>
            <td>{{criterion.description}}</td>
            <td>{{criterion.unitOfMeasurement}}</td>
            <td>{{pvf.worst(criterion.dataSources[0]) | number}}</td>
            <td>{{pvf.best(criterion.dataSources[0]) | number}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="cell">
      Which of the following improvements is most important?
    </div>
    <div class="cell" ng-repeat="criterion in criteria">
      <label>
        <input type="radio" ng-model="state.mostImportantCriterionId" value="{{criterion.id}}"> {{criterion.dataSources[0].pvf.direction}} {{criterion.title}} from {{pvf.worst(criterion.dataSources[0]) | number}}
        {{criterion.unitOfMeasurement}} to {{pvf.best(criterion.dataSources[0]) | number}} {{criterion.unitOfMeasurement}}
      </label>
    </div>
  </div>
  <div class="grid-x">
    <div class="cell">
      <button class="button" ng-click="cancel()">Cancel</button>
      <button class="button" ng-disabled="true">Previous</button>
      <button class="button" ng-click="nextStep(state)" ng-disabled="!canProceed(state)">Next</button>
    </div>
    <div class="cell alert" ng-if="!canProceed(state)">
      Choose the most important improvement to proceed.
    </div>
  </div>
</div>
<!-- Second step -->
<div ng-if="state.step === 2">
  <div class="grid-x" style="min-height: 450px">
    <div class="cell">
      <h3>{{state.title}}
        <inline-help help-key="swing-weighting"></inline-help>
      </h3>
    </div>
    <div class="cell">
      <preference-elicitation-table criteria="criteria" most-important="mostImportant"></preference-elicitation-table>
    </div>
    <div class="grid-x">
      <div class="cell">
        <button class="button" ng-click="cancel()">Cancel</button>
        <button class="button" ng-click="previousStep()" ng-disabled="!canReturn()">Previous</button>
        <button class="success button" ng-if="canSave(state)" ng-click="save(state)" ng-disabled="!canProceed(state)">Save</button>
      </div>
    </div>
  </div>
