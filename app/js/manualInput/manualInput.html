<div ng-if="state.step==='step1'">
  <div class="row">
    <div class="columns large-12">
      <h3>Create workspace manually — step 1 of 2</h3>
      <h4>Define criteria</h4>
    </div>
  </div>
  <div class="row">
    <div class="columns large-6">
      <label>Workspace title
        <input type="text" ng-model="state.title">
      </label>
    </div>
  </div>  
  <div class="row">
    <div class="columns large-6">
      <label>Workspace description
        <input type="text" ng-model="state.description">
      </label>
    </div>
  </div>
  <div class="row">
    <div class="columns large-12">
      <div class="columns large-4">
        <h4>Criteria</h4>
      </div>
      <div class="columns large-4 end">
        <button type="button" class="tiny" ng-click="openCriterionModal()">Add Criterion</button>
      </div>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Is favorable?</th>
            <th>Unit</th>
            <th>description</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-if="!criteria.length">
            <td colspan="5">
              <em>No criteria defined</em>
            </td>
          </tr>
          <tr ng-repeat="criterion in criteria">
            <td>{{criterion.name}}</td>
            <td>{{criterion.isFavorable}}</td>
            <td>{{criterion.unitOfMeasurement}}</td>
            <td>{{criterion.description}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row">
    <div class="columns large-12">
      <div class="columns large-4">
        <h4>Treatments</h4>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="columns large-4">
      <label>
        Treament name:
        <input class="text" ng-model=state.treatmentName>
      </label>
    </div>
    <div class="columns large-4 end">
      <button ng-disabled="!state.treatmentName || isDuplicateName(state.treatmentName)" type="button"
        class="tiny" ng-click="addTreatment(state.treatmentName)">Add Treatment</button>
    </div>
  </div>
  <div class="row">
    <div class="columns large-8">
      <table>
        <thead>
          <tr>
            <th width="450">Treatment name</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-if="!treatments.length">
            <td>
              <em>No treatments defined</em>
            </td>
          </tr>
          <tr ng-repeat="treatment in treatments">
            <td>{{treatment.name}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row">
    <div class="columns large-12">
      <button ng-disabled="!state.title || !criteria.length || !treatments.length" type="button"
        ng-click="goToStep2()">
        Enter data
      </button>
    </div>
  </div>
</div>


<div ng-if="state.step==='step2'">
  <div class="row">
    <div class="columns large-12">
      <h3>Create workspace manually — step 2 of 2</h3>
      <h4>Enter data</h4>
    </div>
  </div>
  <div class="row">
    <div class="columns large-12">
      <h4>{{state.title}}</h4>
    </div>
    <table>
      <thead>
        <tr>
          <th></th>
          <th ng-repeat="treatment in treatments">{{treatment.name}}</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="criterion in criteria">
          <td>{{criterion.name}}</td>
          <td ng-repeat="treatment in treatments"><input type="number" ng-model="inputData[criterion.name][treatment.name]"></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="row">
    <div class="columns large-12">
      <button type="button" ng-click="createProblem()">
        Done
      </button>
      <button type="button" ng-click="goToStep1()">Back</button>
    </div>
  </div>

</div>
